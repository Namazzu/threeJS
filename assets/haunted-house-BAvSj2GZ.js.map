{"version":3,"file":"haunted-house-BAvSj2GZ.js","sources":["../../node_modules/three/examples/jsm/objects/Sky.js","../../src/projects/haunted-house.js"],"sourcesContent":["import {\n\tBackSide,\n\tBoxGeometry,\n\tMesh,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector3\n} from 'three';\n\n/**\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * https://www.researchgate.net/publication/220720443_A_Practical_Analytic_Model_for_Daylight\n *\n * First implemented by Simon Wallner\n * http://simonwallner.at/project/atmospheric-scattering/\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n*/\n\nclass Sky extends Mesh {\n\n\tconstructor() {\n\n\t\tconst shader = Sky.SkyShader;\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tname: shader.name,\n\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false\n\t\t} );\n\n\t\tsuper( new BoxGeometry( 1, 1, 1 ), material );\n\n\t\tthis.isSky = true;\n\n\t}\n\n}\n\nSky.SkyShader = {\n\n\tname: 'SkyShader',\n\n\tuniforms: {\n\t\t'turbidity': { value: 2 },\n\t\t'rayleigh': { value: 1 },\n\t\t'mieCoefficient': { value: 0.005 },\n\t\t'mieDirectionalG': { value: 0.8 },\n\t\t'sunPosition': { value: new Vector3() },\n\t\t'up': { value: new Vector3( 0, 1, 0 ) }\n\t},\n\n\tvertexShader: /* glsl */`\n\t\tuniform vec3 sunPosition;\n\t\tuniform float rayleigh;\n\t\tuniform float turbidity;\n\t\tuniform float mieCoefficient;\n\t\tuniform vec3 up;\n\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float e = 2.71828182845904523536028747135266249775724709369995957;\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\t// wavelength of used primaries, according to preetham\n\t\tconst vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n\t\t// this pre-calculation replaces older TotalRayleigh(vec3 lambda) function:\n\t\t// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n\t\tconst vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n\t\t// mie stuff\n\t\t// K coefficient for the primaries\n\t\tconst float v = 4.0;\n\t\tconst vec3 K = vec3( 0.686, 0.678, 0.666 );\n\t\t// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n\t\tconst vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n\t\t// earth shadow hack\n\t\t// cutoffAngle = pi / 1.95;\n\t\tconst float cutoffAngle = 1.6110731556870734;\n\t\tconst float steepness = 1.5;\n\t\tconst float EE = 1000.0;\n\n\t\tfloat sunIntensity( float zenithAngleCos ) {\n\t\t\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n\t\t\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n\t\t}\n\n\t\tvec3 totalMie( float T ) {\n\t\t\tfloat c = ( 0.2 * T ) * 10E-18;\n\t\t\treturn 0.434 * c * MieConst;\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvWorldPosition = worldPosition.xyz;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n\t\t\tvSunDirection = normalize( sunPosition );\n\n\t\t\tvSunE = sunIntensity( dot( vSunDirection, up ) );\n\n\t\t\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n\t\t\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n\t\t\t// extinction (absorption + out scattering)\n\t\t\t// rayleigh coefficients\n\t\t\tvBetaR = totalRayleigh * rayleighCoefficient;\n\n\t\t\t// mie coefficients\n\t\t\tvBetaM = totalMie( turbidity ) * mieCoefficient;\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\tuniform float mieDirectionalG;\n\t\tuniform vec3 up;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\tconst float n = 1.0003; // refractive index of air\n\t\tconst float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n\t\t// optical length at zenith for molecules\n\t\tconst float rayleighZenithLength = 8.4E3;\n\t\tconst float mieZenithLength = 1.25E3;\n\t\t// 66 arc seconds -> degrees, and the cosine of that\n\t\tconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n\t\t// 3.0 / ( 16.0 * pi )\n\t\tconst float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n\t\t// 1.0 / ( 4.0 * pi )\n\t\tconst float ONE_OVER_FOURPI = 0.07957747154594767;\n\n\t\tfloat rayleighPhase( float cosTheta ) {\n\t\t\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n\t\t}\n\n\t\tfloat hgPhase( float cosTheta, float g ) {\n\t\t\tfloat g2 = pow( g, 2.0 );\n\t\t\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n\t\t\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec3 direction = normalize( vWorldPosition - cameraPosition );\n\n\t\t\t// optical length\n\t\t\t// cutoff angle at 90 to avoid singularity in next formula.\n\t\t\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n\t\t\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n\t\t\tfloat sR = rayleighZenithLength * inverse;\n\t\t\tfloat sM = mieZenithLength * inverse;\n\n\t\t\t// combined extinction factor\n\t\t\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n\t\t\t// in scattering\n\t\t\tfloat cosTheta = dot( direction, vSunDirection );\n\n\t\t\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n\t\t\tvec3 betaRTheta = vBetaR * rPhase;\n\n\t\t\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );\n\t\t\tvec3 betaMTheta = vBetaM * mPhase;\n\n\t\t\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n\t\t\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n\t\t\t// nightsky\n\t\t\tfloat theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]\n\t\t\tfloat phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]\n\t\t\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n\t\t\tvec3 L0 = vec3( 0.1 ) * Fex;\n\n\t\t\t// composition + solar disc\n\t\t\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n\t\t\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n\t\t\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n\t\t\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n\t\t\tgl_FragColor = vec4( retColor, 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\n\t\t}`\n\n};\n\nexport { Sky };\n","import GUI from 'lil-gui'\nimport * as THREE from 'three'\nimport { Timer } from 'three/addons/misc/Timer.js'\nimport { Sky } from 'three/addons/objects/Sky.js'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\n\nexport default function hauntedHouse(canvas) {\n  /**\n   * Texture\n   */\n\n  const textureLoader = new THREE.TextureLoader()\n\n  // Floor\n  const floorAlphaTexture = textureLoader.load('./floor/alpha.webp')\n  const floorColorTexture = textureLoader.load(\n    './floor/coast_sand_rocks_02_1k/coast_sand_rocks_02_diff_1k.webp',\n  )\n  const floorARMTexture = textureLoader.load(\n    './floor/coast_sand_rocks_02_1k/coast_sand_rocks_02_arm_1k.webp',\n  )\n  const floorNormalTexture = textureLoader.load(\n    './floor/coast_sand_rocks_02_1k/coast_sand_rocks_02_nor_gl_1k.webp',\n  )\n  const floorDisplacementTexture = textureLoader.load(\n    './floor/coast_sand_rocks_02_1k/coast_sand_rocks_02_disp_1k.webp',\n  )\n\n  // Only for color texture\n  floorColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  floorColorTexture.repeat.set(8, 8)\n  floorARMTexture.repeat.set(8, 8)\n  floorNormalTexture.repeat.set(8, 8)\n  floorDisplacementTexture.repeat.set(8, 8)\n\n  floorColorTexture.wrapS = THREE.RepeatWrapping\n  floorARMTexture.wrapS = THREE.RepeatWrapping\n  floorNormalTexture.wrapS = THREE.RepeatWrapping\n  floorDisplacementTexture.wrapS = THREE.RepeatWrapping\n\n  floorColorTexture.wrapT = THREE.RepeatWrapping\n  floorARMTexture.wrapT = THREE.RepeatWrapping\n  floorNormalTexture.wrapT = THREE.RepeatWrapping\n  floorDisplacementTexture.wrapT = THREE.RepeatWrapping\n\n  // Wall Texture\n\n  const wallColorTexture = textureLoader.load(\n    './wall/castle_brick_broken_06_1k/castle_brick_broken_06_diff_1k.webp',\n  )\n  const wallARMTexture = textureLoader.load(\n    './wall/castle_brick_broken_06_1k/castle_brick_broken_06_arm_1k.webp',\n  )\n  const wallNormalTexture = textureLoader.load(\n    './wall/castle_brick_broken_06_1k/castle_brick_broken_06_nor_gl_1k.webp',\n  )\n\n  wallColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  // Roof texture\n\n  const roofColorTexture = textureLoader.load(\n    './roof/roof_slates_02_1k/roof_slates_02_diff_1k.webp',\n  )\n  const roofARMTexture = textureLoader.load(\n    './roof/roof_slates_02_1k/roof_slates_02_arm_1k.webp',\n  )\n  const roofNormalTexture = textureLoader.load(\n    './roof/roof_slates_02_1k/roof_slates_02_nor_gl_1k.webp',\n  )\n\n  roofColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  roofColorTexture.repeat.set(3, 1)\n  roofARMTexture.repeat.set(3, 1)\n  roofNormalTexture.repeat.set(3, 1)\n\n  roofColorTexture.wrapS = THREE.RepeatWrapping\n  roofARMTexture.wrapS = THREE.RepeatWrapping\n  roofNormalTexture.wrapS = THREE.RepeatWrapping\n\n  // Bush texture\n\n  const bushColorTexture = textureLoader.load(\n    './bush/leaves_forest_ground_1k/leaves_forest_ground_diff_1k.webp',\n  )\n  const bushARMTexture = textureLoader.load(\n    './bush/leaves_forest_ground_1k/leaves_forest_ground_arm_1k.webp',\n  )\n  const bushNormalTexture = textureLoader.load(\n    './bush/leaves_forest_ground_1k/leaves_forest_ground_nor_gl_1k.webp',\n  )\n\n  bushColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  bushColorTexture.repeat.set(3, 1)\n  bushARMTexture.repeat.set(3, 1)\n  bushNormalTexture.repeat.set(3, 1)\n\n  bushColorTexture.wrapS = THREE.RepeatWrapping\n  bushARMTexture.wrapS = THREE.RepeatWrapping\n  bushNormalTexture.wrapS = THREE.RepeatWrapping\n\n  // Grave texture\n\n  const graveColorTexture = textureLoader.load(\n    './grave/plastered_stone_wall_1k/plastered_stone_wall_diff_1k.webp',\n  )\n  const graveARMTexture = textureLoader.load(\n    './grave/plastered_stone_wall_1k/plastered_stone_wall_arm_1k.webp',\n  )\n  const graveNormalTexture = textureLoader.load(\n    './grave/plastered_stone_wall_1k/plastered_stone_wall_nor_gl_1k.webp',\n  )\n\n  graveColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  graveColorTexture.repeat.set(0.3, 0.4)\n  graveARMTexture.repeat.set(0.3, 0.4)\n  graveNormalTexture.repeat.set(0.3, 0.4)\n\n  graveColorTexture.wrapS = THREE.RepeatWrapping\n  graveARMTexture.wrapS = THREE.RepeatWrapping\n  graveNormalTexture.wrapS = THREE.RepeatWrapping\n\n  // Door\n  const doorColorTexture = textureLoader.load('./door/color.webp')\n  const doorAlphaTexture = textureLoader.load('./door/alpha.webp')\n  const doorAmbientOcclusionTexture = textureLoader.load(\n    './door/ambientOcclusion.webp',\n  )\n  const doorHeightTexture = textureLoader.load('./door/height.webp')\n  const doorNormalTexture = textureLoader.load('./door/normal.webp')\n  const doorMetalnessTexture = textureLoader.load('./door/metalness.webp')\n  const doorRoughnessTexture = textureLoader.load('./door/roughness.webp')\n\n  doorColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  /**\n   * Base\n   */\n  // Debug\n  const gui = new GUI()\n\n  // Scene\n  const scene = new THREE.Scene()\n\n  /**\n   * House\n   */\n\n  const house = new THREE.Group()\n  scene.add(house)\n  // -------------\n  const walls = new THREE.Mesh(\n    new THREE.BoxGeometry(4, 2.5, 4),\n    new THREE.MeshStandardMaterial({\n      map: wallColorTexture,\n      aoMap: wallARMTexture,\n      roughnessMap: wallARMTexture,\n      metalnessMap: wallARMTexture,\n      normalMap: wallNormalTexture,\n    }),\n  )\n  walls.position.y += walls.geometry.parameters.height / 2\n  house.add(walls)\n  // -------------\n  const roof = new THREE.Mesh(\n    new THREE.ConeGeometry(3.5, 1.5, 4),\n    new THREE.MeshStandardMaterial({\n      map: roofColorTexture,\n      aoMap: roofARMTexture,\n      roughnessMap: roofARMTexture,\n      metalnessMap: roofARMTexture,\n      normalMap: roofNormalTexture,\n    }),\n  )\n  roof.position.y += 2.5 + 0.75\n  roof.rotation.y = Math.PI * 0.25\n  house.add(roof)\n  // -------------\n  const door = new THREE.Mesh(\n    new THREE.PlaneGeometry(2.2, 2.2, 100, 100),\n    new THREE.MeshStandardMaterial({\n      map: doorColorTexture,\n      transparent: true,\n      alphaMap: doorAlphaTexture,\n      aoMap: doorAmbientOcclusionTexture,\n      displacementMap: doorHeightTexture,\n      displacementScale: 0.15,\n      displacementBias: -0.04,\n      normalMap: doorNormalTexture,\n      metalnessMap: doorMetalnessTexture,\n      roughnessMap: doorRoughnessTexture,\n    }),\n  )\n  door.position.z = 2 + 0.01\n  door.position.y = 1\n  house.add(door)\n\n  // ------------\n\n  const bushGeometry = new THREE.SphereGeometry(1, 16, 16)\n  const bushMaterial = new THREE.MeshStandardMaterial({\n    color: '#ccffcc',\n    map: bushColorTexture,\n    aoMap: bushARMTexture,\n    roughnessMap: bushARMTexture,\n    metalnessMap: bushARMTexture,\n    normalMap: bushNormalTexture,\n  })\n\n  const bush1 = new THREE.Mesh(bushGeometry, bushMaterial)\n  bush1.scale.set(0.5, 0.5, 0.5)\n  bush1.position.set(0.8, 0.2, 2.2)\n  bush1.rotation.x = -0.75\n\n  const bush2 = new THREE.Mesh(bushGeometry, bushMaterial)\n  bush2.scale.set(0.25, 0.25, 0.25)\n  bush2.position.set(1.4, 0.1, 2.1)\n  bush2.rotation.x = -0.75\n\n  const bush3 = new THREE.Mesh(bushGeometry, bushMaterial)\n  bush3.scale.set(0.4, 0.4, 0.4)\n  bush3.position.set(-0.8, 0.1, 2.2)\n  bush3.rotation.x = -0.75\n\n  const bush4 = new THREE.Mesh(bushGeometry, bushMaterial)\n  bush4.scale.set(0.15, 0.15, 0.15)\n  bush4.position.set(-1, 0.05, 2.6)\n  bush4.rotation.x = -0.75\n\n  house.add(bush1, bush2, bush3, bush4)\n\n  //-----------\n  const graveGeometry = new THREE.BoxGeometry(0.6, 0.8, 0.2)\n  const graveMaterial = new THREE.MeshStandardMaterial({\n    map: graveColorTexture,\n    aoMap: graveARMTexture,\n    roughnessMap: graveARMTexture,\n    metalnessMap: graveARMTexture,\n    normalMap: graveNormalTexture,\n  })\n\n  const graves = new THREE.Group()\n  scene.add(graves)\n\n  for (let i = 0; i < 30; i++) {\n    const angle = Math.random() * Math.PI * 2\n    const radius = 3 + Math.random() * 4\n    const grave = new THREE.Mesh(graveGeometry, graveMaterial)\n    const x = Math.sin(angle) * radius\n    const z = Math.cos(angle) * radius\n    grave.position.x = x\n    grave.position.z = z\n    grave.position.y = Math.random() * 0.4\n    grave.rotation.x = (Math.random() - 0.5) * 0.4\n    grave.rotation.y = (Math.random() - 0.5) * 0.4\n    grave.rotation.z = (Math.random() - 0.5) * 0.4\n\n    graves.add(grave)\n  }\n\n  /**\n   * Floor\n   */\n\n  const floor = new THREE.Mesh(\n    new THREE.PlaneGeometry(20, 20, 100, 100),\n    new THREE.MeshStandardMaterial({\n      alphaMap: floorAlphaTexture,\n      transparent: true,\n      map: floorColorTexture,\n      aoMap: floorARMTexture,\n      roughnessMap: floorARMTexture,\n      metalnessMap: floorARMTexture,\n      normalMap: floorNormalTexture,\n      displacementMap: floorDisplacementTexture,\n      displacementScale: 0.3,\n      displacementBias: -0.2,\n    }),\n  )\n  floor.rotation.x = -Math.PI * 0.5\n  scene.add(floor)\n\n  gui\n    .add(floor.material, 'displacementScale')\n    .min(0)\n    .max(1)\n    .step(0.001)\n    .name('floorDisplacementScale')\n\n  gui\n    .add(floor.material, 'displacementBias')\n    .min(-1)\n    .max(1)\n    .step(0.001)\n    .name('floorDisplacementBias')\n\n  /**\n   * Lights\n   */\n  // Ambient light\n  const ambientLight = new THREE.AmbientLight('#86cdff', 0.275)\n  scene.add(ambientLight)\n\n  // Directional light\n  const directionalLight = new THREE.DirectionalLight('#86cdff', 1)\n  directionalLight.position.set(3, 2, -8)\n  scene.add(directionalLight)\n\n  // Door Light\n  const doorLight = new THREE.PointLight('#ff7d46', 5)\n  doorLight.position.set(0, 2.2, 2.5)\n  house.add(doorLight)\n\n  /**\n   * Ghosts\n   */\n\n  const ghost1 = new THREE.PointLight('#8800ff', 6)\n  const ghost2 = new THREE.PointLight('#ff0088', 6)\n  const ghost3 = new THREE.PointLight('#ff0000', 6)\n  scene.add(ghost1, ghost2, ghost3)\n\n  /**\n   * Sizes\n   */\n  const sizes = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n  }\n\n  const onResize = () => {\n    // Update sizes\n    sizes.width = window.innerWidth\n    sizes.height = window.innerHeight\n\n    // Update camera\n    camera.aspect = sizes.width / sizes.height\n    camera.updateProjectionMatrix()\n\n    // Update renderer\n    renderer.setSize(sizes.width, sizes.height)\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n  }\n\n  window.addEventListener('resize', onResize)\n\n  /**\n   * Camera\n   */\n  // Base camera\n  const camera = new THREE.PerspectiveCamera(\n    75,\n    sizes.width / sizes.height,\n    0.1,\n    100,\n  )\n  camera.position.x = 4\n  camera.position.y = 2\n  camera.position.z = 5\n  scene.add(camera)\n\n  // Controls\n  const controls = new OrbitControls(camera, canvas)\n  controls.maxPolarAngle = Math.PI / 2.1\n  controls.enableDamping = true\n\n  /**\n   * Renderer\n   */\n  const renderer = new THREE.WebGLRenderer({\n    canvas: canvas,\n  })\n  renderer.setSize(sizes.width, sizes.height)\n  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n\n  /**\n   * Shadows\n   */\n\n  // Renderer\n  renderer.shadowMap.enabled = true\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n  // Cast and Receive\n  directionalLight.castShadow = true\n  ghost1.castShadow = true\n  ghost2.castShadow = true\n  ghost3.castShadow = true\n\n  // Object\n  walls.castShadow = true\n  walls.receiveShadow = true\n  roof.castShadow = true\n  floor.receiveShadow = true\n\n  for (const grave of graves.children) {\n    grave.castShadow = true\n    grave.receiveShadow = true\n  }\n\n  // Mapping\n  directionalLight.shadow.mapSize.width = 256\n  directionalLight.shadow.mapSize.height = 256\n  directionalLight.shadow.camera.top = 8\n  directionalLight.shadow.camera.right = 8\n  directionalLight.shadow.camera.bottom = -8\n  directionalLight.shadow.camera.left = -8\n  directionalLight.shadow.camera.near = 1\n  directionalLight.shadow.camera.far = 20\n\n  ghost1.shadow.mapSize.width = 256\n  ghost1.shadow.mapSize.height = 256\n  ghost1.shadow.camera.far = 10\n\n  ghost2.shadow.mapSize.width = 256\n  ghost2.shadow.mapSize.height = 256\n  ghost2.shadow.camera.far = 10\n\n  ghost3.shadow.mapSize.width = 256\n  ghost3.shadow.mapSize.height = 256\n  ghost3.shadow.camera.far = 10\n\n  /**\n   * Sky\n   */\n\n  const sky = new Sky()\n  sky.scale.set(100, 100, 100)\n  sky.material.uniforms['turbidity'].value = 10\n  sky.material.uniforms['rayleigh'].value = 3\n  sky.material.uniforms['mieCoefficient'].value = 0.1\n  sky.material.uniforms['mieDirectionalG'].value = 0.95\n  sky.material.uniforms['sunPosition'].value.set(0.3, -0.038, -0.95)\n  scene.add(sky)\n\n  /**\n   * Fog\n   */\n\n  // scene.fog = new THREE.Fog('#ff0000', 1, 13)\n  scene.fog = new THREE.FogExp2('#02343f', 0.1)\n\n  /**\n   * Animate\n   */\n  const timer = new Timer()\n  let animationFrameId = null\n\n  const tick = () => {\n    // Timer\n    timer.update()\n    const elapsedTime = timer.getElapsed()\n\n    // ghost\n    const ghost1Angle = elapsedTime * 0.5\n    ghost1.position.x = Math.cos(ghost1Angle) * 4\n    ghost1.position.z = Math.sin(ghost1Angle) * 4\n    ghost1.position.y =\n      Math.sin(ghost1Angle) *\n      Math.sin(ghost1Angle * 2.34) *\n      Math.sin(ghost1Angle * 3.45)\n\n    const ghost2Angle = -elapsedTime * 0.38\n    ghost2.position.x = Math.cos(ghost2Angle) * 5\n    ghost2.position.z = Math.sin(ghost2Angle) * 5\n    ghost2.position.y =\n      Math.sin(ghost2Angle) *\n      Math.sin(ghost2Angle * 2.34) *\n      Math.sin(ghost2Angle * 3.45)\n\n    const ghost3Angle = elapsedTime * 0.23\n    ghost3.position.x = Math.cos(ghost3Angle) * 6\n    ghost3.position.z = Math.sin(ghost3Angle) * 6\n    ghost3.position.y =\n      Math.sin(ghost3Angle) *\n      Math.sin(ghost3Angle * 2.34) *\n      Math.sin(ghost3Angle * 3.45)\n\n    // Update controls\n    controls.update()\n\n    // Render\n    renderer.render(scene, camera)\n\n    // Call tick again on the next frame\n    animationFrameId = window.requestAnimationFrame(tick)\n  }\n\n  tick()\n\n  /**\n   * Cleanup\n   */\n  return function dispose() {\n    // stop animation\n    if (animationFrameId) {\n      window.cancelAnimationFrame(animationFrameId)\n    }\n\n    // remove resize event listener\n    window.removeEventListener('resize', onResize)\n\n    // destroy GUI\n    gui.destroy()\n\n    // dispose renderer\n    renderer.dispose()\n\n    // dispose geometries and materials of the scene\n    scene.traverse((child) => {\n      if (child.isMesh) {\n        child.geometry.dispose()\n        if (child.material.isMaterial) {\n          for (const key of Object.keys(child.material)) {\n            const value = child.material[key]\n            if (value && typeof value.dispose === 'function') {\n              value.dispose()\n            }\n          }\n          child.material.dispose()\n        }\n      }\n    })\n  }\n}\n"],"names":["Sky","Mesh","shader","material","ShaderMaterial","UniformsUtils","BackSide","BoxGeometry","Vector3","hauntedHouse","canvas","textureLoader","THREE.TextureLoader","floorAlphaTexture","floorColorTexture","floorARMTexture","floorNormalTexture","floorDisplacementTexture","THREE.SRGBColorSpace","THREE.RepeatWrapping","wallColorTexture","wallARMTexture","wallNormalTexture","roofColorTexture","roofARMTexture","roofNormalTexture","bushColorTexture","bushARMTexture","bushNormalTexture","graveColorTexture","graveARMTexture","graveNormalTexture","doorColorTexture","doorAlphaTexture","doorAmbientOcclusionTexture","doorHeightTexture","doorNormalTexture","doorMetalnessTexture","doorRoughnessTexture","gui","GUI","scene","THREE.Scene","house","THREE.Group","walls","THREE.Mesh","THREE.BoxGeometry","THREE.MeshStandardMaterial","roof","THREE.ConeGeometry","door","THREE.PlaneGeometry","bushGeometry","THREE.SphereGeometry","bushMaterial","bush1","bush2","bush3","bush4","graveGeometry","graveMaterial","graves","i","angle","radius","grave","x","z","floor","ambientLight","THREE.AmbientLight","directionalLight","THREE.DirectionalLight","doorLight","THREE.PointLight","ghost1","ghost2","ghost3","sizes","onResize","camera","renderer","THREE.PerspectiveCamera","controls","OrbitControls","THREE.WebGLRenderer","THREE.PCFSoftShadowMap","sky","THREE.FogExp2","timer","Timer","animationFrameId","tick","elapsedTime","ghost1Angle","ghost2Angle","ghost3Angle","child","key","value"],"mappings":"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","x_google_ignoreList":[0]}