{"version":3,"file":"haunted-house-2sm1sLdl.js","sources":["../../node_modules/lil-gui/dist/lil-gui.esm.js","../../node_modules/three/examples/jsm/objects/Sky.js","../../src/projects/haunted-house.js"],"sourcesContent":["/**\n * lil-gui\n * https://lil-gui.georgealways.com\n * @version 0.20.0\n * @author George Michael Brower\n * @license MIT\n */\n\n/**\n * Base class for all controllers.\n */\nclass Controller {\n\n\tconstructor( parent, object, property, className, elementType = 'div' ) {\n\n\t\t/**\n\t\t * The GUI that contains this controller.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The object this controller will modify.\n\t\t * @type {object}\n\t\t */\n\t\tthis.object = object;\n\n\t\t/**\n\t\t * The name of the property to control.\n\t\t * @type {string}\n\t\t */\n\t\tthis.property = property;\n\n\t\t/**\n\t\t * Used to determine if the controller is disabled.\n\t\t * Use `controller.disable( true|false )` to modify this value.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._disabled = false;\n\n\t\t/**\n\t\t * Used to determine if the Controller is hidden.\n\t\t * Use `controller.show()` or `controller.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The value of `object[ property ]` when the controller was created.\n\t\t * @type {any}\n\t\t */\n\t\tthis.initialValue = this.getValue();\n\n\t\t/**\n\t\t * The outermost container DOM element for this controller.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( elementType );\n\t\tthis.domElement.classList.add( 'controller' );\n\t\tthis.domElement.classList.add( className );\n\n\t\t/**\n\t\t * The DOM element that contains the controller's name.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$name = document.createElement( 'div' );\n\t\tthis.$name.classList.add( 'name' );\n\n\t\tController.nextNameID = Controller.nextNameID || 0;\n\t\tthis.$name.id = `lil-gui-name-${++Controller.nextNameID}`;\n\n\t\t/**\n\t\t * The DOM element that contains the controller's \"widget\" (which differs by controller type).\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$widget = document.createElement( 'div' );\n\t\tthis.$widget.classList.add( 'widget' );\n\n\t\t/**\n\t\t * The DOM element that receives the disabled attribute when using disable().\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$disable = this.$widget;\n\n\t\tthis.domElement.appendChild( this.$name );\n\t\tthis.domElement.appendChild( this.$widget );\n\n\t\t// Don't fire global key events while typing in a controller\n\t\tthis.domElement.addEventListener( 'keydown', e => e.stopPropagation() );\n\t\tthis.domElement.addEventListener( 'keyup', e => e.stopPropagation() );\n\n\t\tthis.parent.children.push( this );\n\t\tthis.parent.controllers.push( this );\n\n\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\tthis._listenCallback = this._listenCallback.bind( this );\n\n\t\tthis.name( property );\n\n\t}\n\n\t/**\n\t * Sets the name of the controller and its label in the GUI.\n\t * @param {string} name\n\t * @returns {this}\n\t */\n\tname( name ) {\n\t\t/**\n\t\t * The controller's name. Use `controller.name( 'Name' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._name = name;\n\t\tthis.$name.textContent = name;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever the value is modified by this controller.\n\t * The function receives the new value as its first parameter. The value of `this` will be the\n\t * controller.\n\t *\n\t * For function controllers, the `onChange` callback will be fired on click, after the function\n\t * executes.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onChange( function( v ) {\n\t * \tconsole.log( 'The value is now ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value directly.\n\t\t * Use the `controller.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls the onChange methods of this controller and its parent GUI.\n\t * @protected\n\t */\n\t_callOnChange() {\n\n\t\tthis.parent._callOnChange( this );\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, this.getValue() );\n\t\t}\n\n\t\tthis._changed = true;\n\n\t}\n\n\t/**\n\t * Pass a function to be called after this controller has been modified and loses focus.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onFinishChange( function( v ) {\n\t * \tconsole.log( 'Changes complete: ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `controller.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Should be called by Controller when its widgets lose focus.\n\t * @protected\n\t */\n\t_callOnFinishChange() {\n\n\t\tif ( this._changed ) {\n\n\t\t\tthis.parent._callOnFinishChange( this );\n\n\t\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\t\tthis._onFinishChange.call( this, this.getValue() );\n\t\t\t}\n\n\t\t}\n\n\t\tthis._changed = false;\n\n\t}\n\n\t/**\n\t * Sets the controller back to its initial value.\n\t * @returns {this}\n\t */\n\treset() {\n\t\tthis.setValue( this.initialValue );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Enables this controller.\n\t * @param {boolean} enabled\n\t * @returns {this}\n\t * @example\n\t * controller.enable();\n\t * controller.enable( false ); // disable\n\t * controller.enable( controller._disabled ); // toggle\n\t */\n\tenable( enabled = true ) {\n\t\treturn this.disable( !enabled );\n\t}\n\n\t/**\n\t * Disables this controller.\n\t * @param {boolean} disabled\n\t * @returns {this}\n\t * @example\n\t * controller.disable();\n\t * controller.disable( false ); // enable\n\t * controller.disable( !controller._disabled ); // toggle\n\t */\n\tdisable( disabled = true ) {\n\n\t\tif ( disabled === this._disabled ) return this;\n\n\t\tthis._disabled = disabled;\n\n\t\tthis.domElement.classList.toggle( 'disabled', disabled );\n\t\tthis.$disable.toggleAttribute( 'disabled', disabled );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Shows the Controller after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * controller.show();\n\t * controller.show( false ); // hide\n\t * controller.show( controller._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the Controller.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\t/**\n\t * Changes this controller into a dropdown of options.\n\t *\n\t * Calling this method on an option controller will simply update the options. However, if this\n\t * controller was not already an option controller, old references to this controller are\n\t * destroyed, and a new controller is added to the end of the GUI.\n\t * @example\n\t * // safe usage\n\t *\n\t * gui.add( obj, 'prop1' ).options( [ 'a', 'b', 'c' ] );\n\t * gui.add( obj, 'prop2' ).options( { Big: 10, Small: 1 } );\n\t * gui.add( obj, 'prop3' );\n\t *\n\t * // danger\n\t *\n\t * const ctrl1 = gui.add( obj, 'prop1' );\n\t * gui.add( obj, 'prop2' );\n\t *\n\t * // calling options out of order adds a new controller to the end...\n\t * const ctrl2 = ctrl1.options( [ 'a', 'b', 'c' ] );\n\t *\n\t * // ...and ctrl1 now references a controller that doesn't exist\n\t * assert( ctrl2 !== ctrl1 )\n\t * @param {object|Array} options\n\t * @returns {Controller}\n\t */\n\toptions( options ) {\n\t\tconst controller = this.parent.add( this.object, this.property, options );\n\t\tcontroller.name( this._name );\n\t\tthis.destroy();\n\t\treturn controller;\n\t}\n\n\t/**\n\t * Sets the minimum value. Only works on number controllers.\n\t * @param {number} min\n\t * @returns {this}\n\t */\n\tmin( min ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the maximum value. Only works on number controllers.\n\t * @param {number} max\n\t * @returns {this}\n\t */\n\tmax( max ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Values set by this controller will be rounded to multiples of `step`. Only works on number\n\t * controllers.\n\t * @param {number} step\n\t * @returns {this}\n\t */\n\tstep( step ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Rounds the displayed value to a fixed number of decimals, without affecting the actual value\n\t * like `step()`. Only works on number controllers.\n\t * @example\n\t * gui.add( object, 'property' ).listen().decimals( 4 );\n\t * @param {number} decimals\n\t * @returns {this}\n\t */\n\tdecimals( decimals ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls `updateDisplay()` every animation frame. Pass `false` to stop listening.\n\t * @param {boolean} listen\n\t * @returns {this}\n\t */\n\tlisten( listen = true ) {\n\n\t\t/**\n\t\t * Used to determine if the controller is currently listening. Don't modify this value\n\t\t * directly. Use the `controller.listen( true|false )` method instead.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._listening = listen;\n\n\t\tif ( this._listenCallbackID !== undefined ) {\n\t\t\tcancelAnimationFrame( this._listenCallbackID );\n\t\t\tthis._listenCallbackID = undefined;\n\t\t}\n\n\t\tif ( this._listening ) {\n\t\t\tthis._listenCallback();\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_listenCallback() {\n\n\t\tthis._listenCallbackID = requestAnimationFrame( this._listenCallback );\n\n\t\t// To prevent framerate loss, make sure the value has changed before updating the display.\n\t\t// Note: save() is used here instead of getValue() only because of ColorController. The !== operator\n\t\t// won't work for color objects or arrays, but ColorController.save() always returns a string.\n\n\t\tconst curValue = this.save();\n\n\t\tif ( curValue !== this._listenPrevValue ) {\n\t\t\tthis.updateDisplay();\n\t\t}\n\n\t\tthis._listenPrevValue = curValue;\n\n\t}\n\n\t/**\n\t * Returns `object[ property ]`.\n\t * @returns {any}\n\t */\n\tgetValue() {\n\t\treturn this.object[ this.property ];\n\t}\n\n\t/**\n\t * Sets the value of `object[ property ]`, invokes any `onChange` handlers and updates the display.\n\t * @param {any} value\n\t * @returns {this}\n\t */\n\tsetValue( value ) {\n\n\t\tif ( this.getValue() !== value ) {\n\n\t\t\tthis.object[ this.property ] = value;\n\t\t\tthis._callOnChange();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Updates the display to keep it in sync with the current value. Useful for updating your\n\t * controllers when their values have been modified outside of the GUI.\n\t * @returns {this}\n\t */\n\tupdateDisplay() {\n\t\treturn this;\n\t}\n\n\tload( value ) {\n\t\tthis.setValue( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tsave() {\n\t\treturn this.getValue();\n\t}\n\n\t/**\n\t * Destroys this controller and removes it from the parent GUI.\n\t */\n\tdestroy() {\n\t\tthis.listen( false );\n\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\tthis.parent.controllers.splice( this.parent.controllers.indexOf( this ), 1 );\n\t\tthis.parent.$children.removeChild( this.domElement );\n\t}\n\n}\n\nclass BooleanController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'boolean', 'label' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'checkbox' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$input.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this.$input.checked );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.checked = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nfunction normalizeColorString( string ) {\n\n\tlet match, result;\n\n\tif ( match = string.match( /(#|0x)?([a-f0-9]{6})/i ) ) {\n\n\t\tresult = match[ 2 ];\n\n\t} else if ( match = string.match( /rgb\\(\\s*(\\d*)\\s*,\\s*(\\d*)\\s*,\\s*(\\d*)\\s*\\)/ ) ) {\n\n\t\tresult = parseInt( match[ 1 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 2 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 3 ] ).toString( 16 ).padStart( 2, 0 );\n\n\t} else if ( match = string.match( /^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i ) ) {\n\n\t\tresult = match[ 1 ] + match[ 1 ] + match[ 2 ] + match[ 2 ] + match[ 3 ] + match[ 3 ];\n\n\t}\n\n\tif ( result ) {\n\t\treturn '#' + result;\n\t}\n\n\treturn false;\n\n}\n\nconst STRING = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'string',\n\tfromHexString: normalizeColorString,\n\ttoHexString: normalizeColorString\n};\n\nconst INT = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'number',\n\tfromHexString: string => parseInt( string.substring( 1 ), 16 ),\n\ttoHexString: value => '#' + value.toString( 16 ).padStart( 6, 0 )\n};\n\nconst ARRAY = {\n\tisPrimitive: false,\n\n\t// The arrow function is here to appease tree shakers like esbuild or webpack.\n\t// See https://esbuild.github.io/api/#tree-shaking\n\tmatch: v => Array.isArray( v ),\n\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget[ 0 ] = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 1 ] = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 2 ] = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( [ r, g, b ], rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst OBJECT = {\n\tisPrimitive: false,\n\tmatch: v => Object( v ) === v,\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget.r = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget.g = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget.b = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( { r, g, b }, rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst FORMATS = [ STRING, INT, ARRAY, OBJECT ];\n\nfunction getColorFormat( value ) {\n\treturn FORMATS.find( format => format.match( value ) );\n}\n\nclass ColorController extends Controller {\n\n\tconstructor( parent, object, property, rgbScale ) {\n\n\t\tsuper( parent, object, property, 'color' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'color' );\n\t\tthis.$input.setAttribute( 'tabindex', -1 );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$text = document.createElement( 'input' );\n\t\tthis.$text.setAttribute( 'type', 'text' );\n\t\tthis.$text.setAttribute( 'spellcheck', 'false' );\n\t\tthis.$text.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis.$display.appendChild( this.$input );\n\t\tthis.$widget.appendChild( this.$display );\n\t\tthis.$widget.appendChild( this.$text );\n\n\t\tthis._format = getColorFormat( this.initialValue );\n\t\tthis._rgbScale = rgbScale;\n\n\t\tthis._initialValueHexString = this.save();\n\t\tthis._textFocused = false;\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis._setValueFromHexString( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'input', () => {\n\t\t\tconst tryParse = normalizeColorString( this.$text.value );\n\t\t\tif ( tryParse ) {\n\t\t\t\tthis._setValueFromHexString( tryParse );\n\t\t\t}\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'focus', () => {\n\t\t\tthis._textFocused = true;\n\t\t\tthis.$text.select();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'blur', () => {\n\t\t\tthis._textFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$text;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\treset() {\n\t\tthis._setValueFromHexString( this._initialValueHexString );\n\t\treturn this;\n\t}\n\n\t_setValueFromHexString( value ) {\n\n\t\tif ( this._format.isPrimitive ) {\n\n\t\t\tconst newValue = this._format.fromHexString( value );\n\t\t\tthis.setValue( newValue );\n\n\t\t} else {\n\n\t\t\tthis._format.fromHexString( value, this.getValue(), this._rgbScale );\n\t\t\tthis._callOnChange();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\tsave() {\n\t\treturn this._format.toHexString( this.getValue(), this._rgbScale );\n\t}\n\n\tload( value ) {\n\t\tthis._setValueFromHexString( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this._format.toHexString( this.getValue(), this._rgbScale );\n\t\tif ( !this._textFocused ) {\n\t\t\tthis.$text.value = this.$input.value.substring( 1 );\n\t\t}\n\t\tthis.$display.style.backgroundColor = this.$input.value;\n\t\treturn this;\n\t}\n\n}\n\nclass FunctionController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'function' );\n\n\t\t// Buttons are the only case where widget contains name\n\t\tthis.$button = document.createElement( 'button' );\n\t\tthis.$button.appendChild( this.$name );\n\t\tthis.$widget.appendChild( this.$button );\n\n\t\tthis.$button.addEventListener( 'click', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.getValue().call( this.object );\n\t\t\tthis._callOnChange();\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$button.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\tthis.$disable = this.$button;\n\n\t}\n\n}\n\nclass NumberController extends Controller {\n\n\tconstructor( parent, object, property, min, max, step ) {\n\n\t\tsuper( parent, object, property, 'number' );\n\n\t\tthis._initInput();\n\n\t\tthis.min( min );\n\t\tthis.max( max );\n\n\t\tconst stepExplicit = step !== undefined;\n\t\tthis.step( stepExplicit ? step : this._getImplicitStep(), stepExplicit );\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tdecimals( decimals ) {\n\t\tthis._decimals = decimals;\n\t\tthis.updateDisplay();\n\t\treturn this;\n\t}\n\n\tmin( min ) {\n\t\tthis._min = min;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tmax( max ) {\n\t\tthis._max = max;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tstep( step, explicit = true ) {\n\t\tthis._step = step;\n\t\tthis._stepExplicit = explicit;\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\n\t\tconst value = this.getValue();\n\n\t\tif ( this._hasSlider ) {\n\n\t\t\tlet percent = ( value - this._min ) / ( this._max - this._min );\n\t\t\tpercent = Math.max( 0, Math.min( percent, 1 ) );\n\n\t\t\tthis.$fill.style.width = percent * 100 + '%';\n\n\t\t}\n\n\t\tif ( !this._inputFocused ) {\n\t\t\tthis.$input.value = this._decimals === undefined ? value : value.toFixed( this._decimals );\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_initInput() {\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\t// On touch devices only, use input[type=number] to force a numeric keyboard.\n\t\t// Ideally we could use one input type everywhere, but [type=number] has quirks\n\t\t// on desktop, and [inputmode=decimal] has quirks on iOS.\n\t\t// See https://github.com/georgealways/lil-gui/pull/16\n\n\t\tconst isTouch = window.matchMedia( '(pointer: coarse)' ).matches;\n\n\t\tif ( isTouch ) {\n\t\t\tthis.$input.setAttribute( 'type', 'number' );\n\t\t\tthis.$input.setAttribute( 'step', 'any' );\n\t\t}\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tconst onInput = () => {\n\n\t\t\tlet value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tif ( this._stepExplicit ) {\n\t\t\t\tvalue = this._snap( value );\n\t\t\t}\n\n\t\t\tthis.setValue( this._clamp( value ) );\n\n\t\t};\n\n\t\t// Keys & mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst increment = delta => {\n\n\t\t\tconst value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tthis._snapClampSetValue( value + delta );\n\n\t\t\t// Force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t};\n\n\t\tconst onKeyDown = e => {\n\t\t\t// Using `e.key` instead of `e.code` also catches NumpadEnter\n\t\t\tif ( e.key === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowUp' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) );\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowDown' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) * -1 );\n\t\t\t}\n\t\t};\n\n\t\tconst onWheel = e => {\n\t\t\tif ( this._inputFocused ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._normalizeMouseWheel( e ) );\n\t\t\t}\n\t\t};\n\n\t\t// Vertical drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForVerticalDrag = false,\n\t\t\tinitClientX,\n\t\t\tinitClientY,\n\t\t\tprevClientY,\n\t\t\tinitValue,\n\t\t\tdragDelta;\n\n\t\t// Once the mouse is dragged more than DRAG_THRESH px on any axis, we decide\n\t\t// on the user's intent: horizontal means highlight, vertical means drag.\n\t\tconst DRAG_THRESH = 5;\n\n\t\tconst onMouseDown = e => {\n\n\t\t\tinitClientX = e.clientX;\n\t\t\tinitClientY = prevClientY = e.clientY;\n\t\t\ttestingForVerticalDrag = true;\n\n\t\t\tinitValue = this.getValue();\n\t\t\tdragDelta = 0;\n\n\t\t\twindow.addEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.addEventListener( 'mouseup', onMouseUp );\n\n\t\t};\n\n\t\tconst onMouseMove = e => {\n\n\t\t\tif ( testingForVerticalDrag ) {\n\n\t\t\t\tconst dx = e.clientX - initClientX;\n\t\t\t\tconst dy = e.clientY - initClientY;\n\n\t\t\t\tif ( Math.abs( dy ) > DRAG_THRESH ) {\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.$input.blur();\n\t\t\t\t\ttestingForVerticalDrag = false;\n\t\t\t\t\tthis._setDraggingStyle( true, 'vertical' );\n\n\t\t\t\t} else if ( Math.abs( dx ) > DRAG_THRESH ) {\n\n\t\t\t\t\tonMouseUp();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// This isn't an else so that the first move counts towards dragDelta\n\t\t\tif ( !testingForVerticalDrag ) {\n\n\t\t\t\tconst dy = e.clientY - prevClientY;\n\n\t\t\t\tdragDelta -= dy * this._step * this._arrowKeyMultiplier( e );\n\n\t\t\t\t// Clamp dragDelta so we don't have 'dead space' after dragging past bounds.\n\t\t\t\t// We're okay with the fact that bounds can be undefined here.\n\t\t\t\tif ( initValue + dragDelta > this._max ) {\n\t\t\t\t\tdragDelta = this._max - initValue;\n\t\t\t\t} else if ( initValue + dragDelta < this._min ) {\n\t\t\t\t\tdragDelta = this._min - initValue;\n\t\t\t\t}\n\n\t\t\t\tthis._snapClampSetValue( initValue + dragDelta );\n\n\t\t\t}\n\n\t\t\tprevClientY = e.clientY;\n\n\t\t};\n\n\t\tconst onMouseUp = () => {\n\t\t\tthis._setDraggingStyle( false, 'vertical' );\n\t\t\tthis._callOnFinishChange();\n\t\t\twindow.removeEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', onMouseUp );\n\t\t};\n\n\t\t// Focus state & onFinishChange\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst onFocus = () => {\n\t\t\tthis._inputFocused = true;\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tthis._inputFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t};\n\n\t\tthis.$input.addEventListener( 'input', onInput );\n\t\tthis.$input.addEventListener( 'keydown', onKeyDown );\n\t\tthis.$input.addEventListener( 'wheel', onWheel, { passive: false } );\n\t\tthis.$input.addEventListener( 'mousedown', onMouseDown );\n\t\tthis.$input.addEventListener( 'focus', onFocus );\n\t\tthis.$input.addEventListener( 'blur', onBlur );\n\n\t}\n\n\t_initSlider() {\n\n\t\tthis._hasSlider = true;\n\n\t\t// Build DOM\n\t\t// ---------------------------------------------------------------------\n\n\t\tthis.$slider = document.createElement( 'div' );\n\t\tthis.$slider.classList.add( 'slider' );\n\n\t\tthis.$fill = document.createElement( 'div' );\n\t\tthis.$fill.classList.add( 'fill' );\n\n\t\tthis.$slider.appendChild( this.$fill );\n\t\tthis.$widget.insertBefore( this.$slider, this.$input );\n\n\t\tthis.domElement.classList.add( 'hasSlider' );\n\n\t\t// Map clientX to value\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst map = ( v, a, b, c, d ) => {\n\t\t\treturn ( v - a ) / ( b - a ) * ( d - c ) + c;\n\t\t};\n\n\t\tconst setValueFromX = clientX => {\n\t\t\tconst rect = this.$slider.getBoundingClientRect();\n\t\t\tlet value = map( clientX, rect.left, rect.right, this._min, this._max );\n\t\t\tthis._snapClampSetValue( value );\n\t\t};\n\n\t\t// Mouse drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst mouseDown = e => {\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.clientX );\n\t\t\twindow.addEventListener( 'mousemove', mouseMove );\n\t\t\twindow.addEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\tconst mouseMove = e => {\n\t\t\tsetValueFromX( e.clientX );\n\t\t};\n\n\t\tconst mouseUp = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'mousemove', mouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\t// Touch drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForScroll = false, prevClientX, prevClientY;\n\n\t\tconst beginTouchDrag = e => {\n\t\t\te.preventDefault();\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\t\t\ttestingForScroll = false;\n\t\t};\n\n\t\tconst onTouchStart = e => {\n\n\t\t\tif ( e.touches.length > 1 ) return;\n\n\t\t\t// If we're in a scrollable container, we should wait for the first\n\t\t\t// touchmove to see if the user is trying to slide or scroll.\n\t\t\tif ( this._hasScrollBar ) {\n\n\t\t\t\tprevClientX = e.touches[ 0 ].clientX;\n\t\t\t\tprevClientY = e.touches[ 0 ].clientY;\n\t\t\t\ttestingForScroll = true;\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise, we can set the value straight away on touchstart.\n\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t}\n\n\t\t\twindow.addEventListener( 'touchmove', onTouchMove, { passive: false } );\n\t\t\twindow.addEventListener( 'touchend', onTouchEnd );\n\n\t\t};\n\n\t\tconst onTouchMove = e => {\n\n\t\t\tif ( testingForScroll ) {\n\n\t\t\t\tconst dx = e.touches[ 0 ].clientX - prevClientX;\n\t\t\t\tconst dy = e.touches[ 0 ].clientY - prevClientY;\n\n\t\t\t\tif ( Math.abs( dx ) > Math.abs( dy ) ) {\n\n\t\t\t\t\t// We moved horizontally, set the value and stop checking.\n\t\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// This was, in fact, an attempt to scroll. Abort.\n\t\t\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\te.preventDefault();\n\t\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst onTouchEnd = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\t\t};\n\n\t\t// Mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\t// We have to use a debounced function to call onFinishChange because\n\t\t// there's no way to tell when the user is \"done\" mouse-wheeling.\n\t\tconst callOnFinishChange = this._callOnFinishChange.bind( this );\n\t\tconst WHEEL_DEBOUNCE_TIME = 400;\n\t\tlet wheelFinishChangeTimeout;\n\n\t\tconst onWheel = e => {\n\n\t\t\t// ignore vertical wheels if there's a scrollbar\n\t\t\tconst isVertical = Math.abs( e.deltaX ) < Math.abs( e.deltaY );\n\t\t\tif ( isVertical && this._hasScrollBar ) return;\n\n\t\t\te.preventDefault();\n\n\t\t\t// set value\n\t\t\tconst delta = this._normalizeMouseWheel( e ) * this._step;\n\t\t\tthis._snapClampSetValue( this.getValue() + delta );\n\n\t\t\t// force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t\t// debounce onFinishChange\n\t\t\tclearTimeout( wheelFinishChangeTimeout );\n\t\t\twheelFinishChangeTimeout = setTimeout( callOnFinishChange, WHEEL_DEBOUNCE_TIME );\n\n\t\t};\n\n\t\tthis.$slider.addEventListener( 'mousedown', mouseDown );\n\t\tthis.$slider.addEventListener( 'touchstart', onTouchStart, { passive: false } );\n\t\tthis.$slider.addEventListener( 'wheel', onWheel, { passive: false } );\n\n\t}\n\n\t_setDraggingStyle( active, axis = 'horizontal' ) {\n\t\tif ( this.$slider ) {\n\t\t\tthis.$slider.classList.toggle( 'active', active );\n\t\t}\n\t\tdocument.body.classList.toggle( 'lil-gui-dragging', active );\n\t\tdocument.body.classList.toggle( `lil-gui-${axis}`, active );\n\t}\n\n\t_getImplicitStep() {\n\n\t\tif ( this._hasMin && this._hasMax ) {\n\t\t\treturn ( this._max - this._min ) / 1000;\n\t\t}\n\n\t\treturn 0.1;\n\n\t}\n\n\t_onUpdateMinMax() {\n\n\t\tif ( !this._hasSlider && this._hasMin && this._hasMax ) {\n\n\t\t\t// If this is the first time we're hearing about min and max\n\t\t\t// and we haven't explicitly stated what our step is, let's\n\t\t\t// update that too.\n\t\t\tif ( !this._stepExplicit ) {\n\t\t\t\tthis.step( this._getImplicitStep(), false );\n\t\t\t}\n\n\t\t\tthis._initSlider();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\t_normalizeMouseWheel( e ) {\n\n\t\tlet { deltaX, deltaY } = e;\n\n\t\t// Safari and Chrome report weird non-integral values for a notched wheel,\n\t\t// but still expose actual lines scrolled via wheelDelta. Notched wheels\n\t\t// should behave the same way as arrow keys.\n\t\tif ( Math.floor( e.deltaY ) !== e.deltaY && e.wheelDelta ) {\n\t\t\tdeltaX = 0;\n\t\t\tdeltaY = -e.wheelDelta / 120;\n\t\t\tdeltaY *= this._stepExplicit ? 1 : 10;\n\t\t}\n\n\t\tconst wheel = deltaX + -deltaY;\n\n\t\treturn wheel;\n\n\t}\n\n\t_arrowKeyMultiplier( e ) {\n\n\t\tlet mult = this._stepExplicit ? 1 : 10;\n\n\t\tif ( e.shiftKey ) {\n\t\t\tmult *= 10;\n\t\t} else if ( e.altKey ) {\n\t\t\tmult /= 10;\n\t\t}\n\n\t\treturn mult;\n\n\t}\n\n\t_snap( value ) {\n\n\t\t// Make the steps \"start\" at min or max.\n\t\tlet offset = 0;\n\t\tif ( this._hasMin ) {\n\t\t\toffset = this._min;\n\t\t} else if ( this._hasMax ) {\n\t\t\toffset = this._max;\n\t\t}\n\n\t\tvalue -= offset;\n\n\t\tvalue = Math.round( value / this._step ) * this._step;\n\n\t\tvalue += offset;\n\n\t\t// Used to prevent \"flyaway\" decimals like 1.00000000000001\n\t\tvalue = parseFloat( value.toPrecision( 15 ) );\n\n\t\treturn value;\n\n\t}\n\n\t_clamp( value ) {\n\t\t// either condition is false if min or max is undefined\n\t\tif ( value < this._min ) value = this._min;\n\t\tif ( value > this._max ) value = this._max;\n\t\treturn value;\n\t}\n\n\t_snapClampSetValue( value ) {\n\t\tthis.setValue( this._clamp( this._snap( value ) ) );\n\t}\n\n\tget _hasScrollBar() {\n\t\tconst root = this.parent.root.$children;\n\t\treturn root.scrollHeight > root.clientHeight;\n\t}\n\n\tget _hasMin() {\n\t\treturn this._min !== undefined;\n\t}\n\n\tget _hasMax() {\n\t\treturn this._max !== undefined;\n\t}\n\n}\n\nclass OptionController extends Controller {\n\n\tconstructor( parent, object, property, options ) {\n\n\t\tsuper( parent, object, property, 'option' );\n\n\t\tthis.$select = document.createElement( 'select' );\n\t\tthis.$select.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis.$select.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this._values[ this.$select.selectedIndex ] );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'focus', () => {\n\t\t\tthis.$display.classList.add( 'focus' );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'blur', () => {\n\t\t\tthis.$display.classList.remove( 'focus' );\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$select );\n\t\tthis.$widget.appendChild( this.$display );\n\n\t\tthis.$disable = this.$select;\n\n\t\tthis.options( options );\n\n\t}\n\n\toptions( options ) {\n\n\t\tthis._values = Array.isArray( options ) ? options : Object.values( options );\n\t\tthis._names = Array.isArray( options ) ? options : Object.keys( options );\n\n\t\tthis.$select.replaceChildren();\n\n\t\tthis._names.forEach( name => {\n\t\t\tconst $option = document.createElement( 'option' );\n\t\t\t$option.textContent = name;\n\t\t\tthis.$select.appendChild( $option );\n\t\t} );\n\n\t\tthis.updateDisplay();\n\n\t\treturn this;\n\n\t}\n\n\tupdateDisplay() {\n\t\tconst value = this.getValue();\n\t\tconst index = this._values.indexOf( value );\n\t\tthis.$select.selectedIndex = index;\n\t\tthis.$display.textContent = index === -1 ? value : this._names[ index ];\n\t\treturn this;\n\t}\n\n}\n\nclass StringController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'string' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'spellcheck', 'false' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis.setValue( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nvar stylesheet = `.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, \"Droid Sans Mono\", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n  background: var(--background-color);\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: \" \";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: \"lil-gui\";\n  content: \"↕\";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  height: var(--title-height);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  width: 100%;\n  text-align: left;\n  background: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: \"lil-gui\";\n  content: \"▾\";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: \"▸\";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: \"Empty\";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui label, .lil-gui input, .lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n}\n.lil-gui input {\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  width: var(--checkbox-size);\n  height: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: \"lil-gui\";\n  content: \"✓\";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  border: none;\n}\n.lil-gui .controller button {\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n}\n@media (hover: hover) {\n  .lil-gui .controller button:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui .controller button:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui .controller button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: \"lil-gui\";\n  src: url(\"data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==\") format(\"woff\");\n}`;\n\nfunction _injectStyles( cssContent ) {\n\tconst injected = document.createElement( 'style' );\n\tinjected.innerHTML = cssContent;\n\tconst before = document.querySelector( 'head link[rel=stylesheet], head style' );\n\tif ( before ) {\n\t\tdocument.head.insertBefore( injected, before );\n\t} else {\n\t\tdocument.head.appendChild( injected );\n\t}\n}\n\n\nlet stylesInjected = false;\n\nclass GUI {\n\n\t/**\n\t * Creates a panel that holds controllers.\n\t * @example\n\t * new GUI();\n\t * new GUI( { container: document.getElementById( 'custom' ) } );\n\t *\n\t * @param {object} [options]\n\t * @param {boolean} [options.autoPlace=true]\n\t * Adds the GUI to `document.body` and fixes it to the top right of the page.\n\t *\n\t * @param {HTMLElement} [options.container]\n\t * Adds the GUI to this DOM element. Overrides `autoPlace`.\n\t *\n\t * @param {number} [options.width=245]\n\t * Width of the GUI in pixels, usually set when name labels become too long. Note that you can make\n\t * name labels wider in CSS with `.lil‑gui { ‑‑name‑width: 55% }`.\n\t *\n\t * @param {string} [options.title=Controls]\n\t * Name to display in the title bar.\n\t *\n\t * @param {boolean} [options.closeFolders=false]\n\t * Pass `true` to close all folders in this GUI by default.\n\t *\n\t * @param {boolean} [options.injectStyles=true]\n\t * Injects the default stylesheet into the page if this is the first GUI.\n\t * Pass `false` to use your own stylesheet.\n\t *\n\t * @param {number} [options.touchStyles=true]\n\t * Makes controllers larger on touch devices. Pass `false` to disable touch styles.\n\t *\n\t * @param {GUI} [options.parent]\n\t * Adds this GUI as a child in another GUI. Usually this is done for you by `addFolder()`.\n\t */\n\tconstructor( {\n\t\tparent,\n\t\tautoPlace = parent === undefined,\n\t\tcontainer,\n\t\twidth,\n\t\ttitle = 'Controls',\n\t\tcloseFolders = false,\n\t\tinjectStyles = true,\n\t\ttouchStyles = true\n\t} = {} ) {\n\n\t\t/**\n\t\t * The GUI containing this folder, or `undefined` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The top level GUI containing this folder, or `this` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.root = parent ? parent.root : this;\n\n\t\t/**\n\t\t * The list of controllers and folders contained by this GUI.\n\t\t * @type {Array<GUI|Controller>}\n\t\t */\n\t\tthis.children = [];\n\n\t\t/**\n\t\t * The list of controllers contained by this GUI.\n\t\t * @type {Array<Controller>}\n\t\t */\n\t\tthis.controllers = [];\n\n\t\t/**\n\t\t * The list of folders contained by this GUI.\n\t\t * @type {Array<GUI>}\n\t\t */\n\t\tthis.folders = [];\n\n\t\t/**\n\t\t * Used to determine if the GUI is closed. Use `gui.open()` or `gui.close()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._closed = false;\n\n\t\t/**\n\t\t * Used to determine if the GUI is hidden. Use `gui.show()` or `gui.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The outermost container element.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'lil-gui' );\n\n\t\t/**\n\t\t * The DOM element that contains the title.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$title = document.createElement( 'button' );\n\t\tthis.$title.classList.add( 'title' );\n\t\tthis.$title.setAttribute( 'aria-expanded', true );\n\n\t\tthis.$title.addEventListener( 'click', () => this.openAnimated( this._closed ) );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$title.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\t/**\n\t\t * The DOM element that contains children.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$children = document.createElement( 'div' );\n\t\tthis.$children.classList.add( 'children' );\n\n\t\tthis.domElement.appendChild( this.$title );\n\t\tthis.domElement.appendChild( this.$children );\n\n\t\tthis.title( title );\n\n\t\tif ( this.parent ) {\n\n\t\t\tthis.parent.children.push( this );\n\t\t\tthis.parent.folders.push( this );\n\n\t\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\t\t// Stop the constructor early, everything onward only applies to root GUI's\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.domElement.classList.add( 'root' );\n\n\t\tif ( touchStyles ) {\n\t\t\tthis.domElement.classList.add( 'allow-touch-styles' );\n\t\t}\n\n\t\t// Inject stylesheet if we haven't done that yet\n\t\tif ( !stylesInjected && injectStyles ) {\n\t\t\t_injectStyles( stylesheet );\n\t\t\tstylesInjected = true;\n\t\t}\n\n\t\tif ( container ) {\n\n\t\t\tcontainer.appendChild( this.domElement );\n\n\t\t} else if ( autoPlace ) {\n\n\t\t\tthis.domElement.classList.add( 'autoPlace' );\n\t\t\tdocument.body.appendChild( this.domElement );\n\n\t\t}\n\n\t\tif ( width ) {\n\t\t\tthis.domElement.style.setProperty( '--width', width + 'px' );\n\t\t}\n\n\t\tthis._closeFolders = closeFolders;\n\n\t}\n\n\t/**\n\t * Adds a controller to the GUI, inferring controller type using the `typeof` operator.\n\t * @example\n\t * gui.add( object, 'property' );\n\t * gui.add( object, 'number', 0, 100, 1 );\n\t * gui.add( object, 'options', [ 1, 2, 3 ] );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number|object|Array} [$1] Minimum value for number controllers, or the set of\n\t * selectable values for a dropdown.\n\t * @param {number} [max] Maximum value for number controllers.\n\t * @param {number} [step] Step value for number controllers.\n\t * @returns {Controller}\n\t */\n\tadd( object, property, $1, max, step ) {\n\n\t\tif ( Object( $1 ) === $1 ) {\n\n\t\t\treturn new OptionController( this, object, property, $1 );\n\n\t\t}\n\n\t\tconst initialValue = object[ property ];\n\n\t\tswitch ( typeof initialValue ) {\n\n\t\t\tcase 'number':\n\n\t\t\t\treturn new NumberController( this, object, property, $1, max, step );\n\n\t\t\tcase 'boolean':\n\n\t\t\t\treturn new BooleanController( this, object, property );\n\n\t\t\tcase 'string':\n\n\t\t\t\treturn new StringController( this, object, property );\n\n\t\t\tcase 'function':\n\n\t\t\t\treturn new FunctionController( this, object, property );\n\n\t\t}\n\n\t\tconsole.error( `gui.add failed\n\tproperty:`, property, `\n\tobject:`, object, `\n\tvalue:`, initialValue );\n\n\t}\n\n\t/**\n\t * Adds a color controller to the GUI.\n\t * @example\n\t * params = {\n\t * \tcssColor: '#ff00ff',\n\t * \trgbColor: { r: 0, g: 0.2, b: 0.4 },\n\t * \tcustomRange: [ 0, 127, 255 ],\n\t * };\n\t *\n\t * gui.addColor( params, 'cssColor' );\n\t * gui.addColor( params, 'rgbColor' );\n\t * gui.addColor( params, 'customRange', 255 );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number} rgbScale Maximum value for a color channel when using an RGB color. You may\n\t * need to set this to 255 if your colors are too bright.\n\t * @returns {Controller}\n\t */\n\taddColor( object, property, rgbScale = 1 ) {\n\t\treturn new ColorController( this, object, property, rgbScale );\n\t}\n\n\t/**\n\t * Adds a folder to the GUI, which is just another GUI. This method returns\n\t * the nested GUI so you can add controllers to it.\n\t * @example\n\t * const folder = gui.addFolder( 'Position' );\n\t * folder.add( position, 'x' );\n\t * folder.add( position, 'y' );\n\t * folder.add( position, 'z' );\n\t *\n\t * @param {string} title Name to display in the folder's title bar.\n\t * @returns {GUI}\n\t */\n\taddFolder( title ) {\n\t\tconst folder = new GUI( { parent: this, title } );\n\t\tif ( this.root._closeFolders ) folder.close();\n\t\treturn folder;\n\t}\n\n\t/**\n\t * Recalls values that were saved with `gui.save()`.\n\t * @param {object} obj\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\tload( obj, recursive = true ) {\n\n\t\tif ( obj.controllers ) {\n\n\t\t\tthis.controllers.forEach( c => {\n\n\t\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\t\tc.load( obj.controllers[ c._name ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( recursive && obj.folders ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tf.load( obj.folders[ f._title ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns an object mapping controller names to values. The object can be passed to `gui.load()` to\n\t * recall these values.\n\t * @example\n\t * {\n\t * \tcontrollers: {\n\t * \t\tprop1: 1,\n\t * \t\tprop2: 'value',\n\t * \t\t...\n\t * \t},\n\t * \tfolders: {\n\t * \t\tfolderName1: { controllers, folders },\n\t * \t\tfolderName2: { controllers, folders }\n\t * \t\t...\n\t * \t}\n\t * }\n\t *\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {object}\n\t */\n\tsave( recursive = true ) {\n\n\t\tconst obj = {\n\t\t\tcontrollers: {},\n\t\t\tfolders: {}\n\t\t};\n\n\t\tthis.controllers.forEach( c => {\n\n\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\tthrow new Error( `Cannot save GUI with duplicate property \"${c._name}\"` );\n\t\t\t}\n\n\t\t\tobj.controllers[ c._name ] = c.save();\n\n\t\t} );\n\n\t\tif ( recursive ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tthrow new Error( `Cannot save GUI with duplicate folder \"${f._title}\"` );\n\t\t\t\t}\n\n\t\t\t\tobj.folders[ f._title ] = f.save();\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn obj;\n\n\t}\n\n\t/**\n\t * Opens a GUI or folder. GUI and folders are open by default.\n\t * @param {boolean} open Pass false to close.\n\t * @returns {this}\n\t * @example\n\t * gui.open(); // open\n\t * gui.open( false ); // close\n\t * gui.open( gui._closed ); // toggle\n\t */\n\topen( open = true ) {\n\n\t\tthis._setClosed( !open );\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\t\tthis.domElement.classList.toggle( 'closed', this._closed );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Closes the GUI.\n\t * @returns {this}\n\t */\n\tclose() {\n\t\treturn this.open( false );\n\t}\n\n\t_setClosed( closed ) {\n\t\tif ( this._closed === closed ) return;\n\t\tthis._closed = closed;\n\t\tthis._callOnOpenClose( this );\n\t}\n\n\t/**\n\t * Shows the GUI after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * gui.show();\n\t * gui.show( false ); // hide\n\t * gui.show( gui._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the GUI.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\topenAnimated( open = true ) {\n\n\t\t// set state immediately\n\t\tthis._setClosed( !open );\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\n\t\t// wait for next frame to measure $children\n\t\trequestAnimationFrame( () => {\n\n\t\t\t// explicitly set initial height for transition\n\t\t\tconst initialHeight = this.$children.clientHeight;\n\t\t\tthis.$children.style.height = initialHeight + 'px';\n\n\t\t\tthis.domElement.classList.add( 'transition' );\n\n\t\t\tconst onTransitionEnd = e => {\n\t\t\t\tif ( e.target !== this.$children ) return;\n\t\t\t\tthis.$children.style.height = '';\n\t\t\t\tthis.domElement.classList.remove( 'transition' );\n\t\t\t\tthis.$children.removeEventListener( 'transitionend', onTransitionEnd );\n\t\t\t};\n\n\t\t\tthis.$children.addEventListener( 'transitionend', onTransitionEnd );\n\n\t\t\t// todo: this is wrong if children's scrollHeight makes for a gui taller than maxHeight\n\t\t\tconst targetHeight = !open ? 0 : this.$children.scrollHeight;\n\n\t\t\tthis.domElement.classList.toggle( 'closed', !open );\n\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tthis.$children.style.height = targetHeight + 'px';\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Change the title of this GUI.\n\t * @param {string} title\n\t * @returns {this}\n\t */\n\ttitle( title ) {\n\t\t/**\n\t\t * Current title of the GUI. Use `gui.title( 'Title' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._title = title;\n\t\tthis.$title.textContent = title;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Resets all controllers to their initial values.\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\treset( recursive = true ) {\n\t\tconst controllers = recursive ? this.controllersRecursive() : this.controllers;\n\t\tcontrollers.forEach( c => c.reset() );\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI changes.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnChange( controller );\n\t\t}\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI has finished changing.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onFinishChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnFinishChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnFinishChange( controller );\n\t\t}\n\n\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\tthis._onFinishChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Pass a function to be called when this GUI or its descendants are opened or closed.\n\t * @param {function(GUI)} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onOpenClose( changedGUI => {\n\t * \tconsole.log( changedGUI._closed );\n\t * } );\n\t */\n\tonOpenClose( callback ) {\n\t\tthis._onOpenClose = callback;\n\t\treturn this;\n\t}\n\n\t_callOnOpenClose( changedGUI ) {\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnOpenClose( changedGUI );\n\t\t}\n\n\t\tif ( this._onOpenClose !== undefined ) {\n\t\t\tthis._onOpenClose.call( this, changedGUI );\n\t\t}\n\t}\n\n\t/**\n\t * Destroys all DOM elements and event listeners associated with this GUI.\n\t */\n\tdestroy() {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\t\tthis.parent.folders.splice( this.parent.folders.indexOf( this ), 1 );\n\t\t}\n\n\t\tif ( this.domElement.parentElement ) {\n\t\t\tthis.domElement.parentElement.removeChild( this.domElement );\n\t\t}\n\n\t\tArray.from( this.children ).forEach( c => c.destroy() );\n\n\t}\n\n\t/**\n\t * Returns an array of controllers contained by this GUI and its descendents.\n\t * @returns {Controller[]}\n\t */\n\tcontrollersRecursive() {\n\t\tlet controllers = Array.from( this.controllers );\n\t\tthis.folders.forEach( f => {\n\t\t\tcontrollers = controllers.concat( f.controllersRecursive() );\n\t\t} );\n\t\treturn controllers;\n\t}\n\n\t/**\n\t * Returns an array of folders contained by this GUI and its descendents.\n\t * @returns {GUI[]}\n\t */\n\tfoldersRecursive() {\n\t\tlet folders = Array.from( this.folders );\n\t\tthis.folders.forEach( f => {\n\t\t\tfolders = folders.concat( f.foldersRecursive() );\n\t\t} );\n\t\treturn folders;\n\t}\n\n}\n\nexport { BooleanController, ColorController, Controller, FunctionController, GUI, NumberController, OptionController, StringController, GUI as default };\n","import {\n\tBackSide,\n\tBoxGeometry,\n\tMesh,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector3\n} from 'three';\n\n/**\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * https://www.researchgate.net/publication/220720443_A_Practical_Analytic_Model_for_Daylight\n *\n * First implemented by Simon Wallner\n * http://simonwallner.at/project/atmospheric-scattering/\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n*/\n\nclass Sky extends Mesh {\n\n\tconstructor() {\n\n\t\tconst shader = Sky.SkyShader;\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tname: shader.name,\n\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false\n\t\t} );\n\n\t\tsuper( new BoxGeometry( 1, 1, 1 ), material );\n\n\t\tthis.isSky = true;\n\n\t}\n\n}\n\nSky.SkyShader = {\n\n\tname: 'SkyShader',\n\n\tuniforms: {\n\t\t'turbidity': { value: 2 },\n\t\t'rayleigh': { value: 1 },\n\t\t'mieCoefficient': { value: 0.005 },\n\t\t'mieDirectionalG': { value: 0.8 },\n\t\t'sunPosition': { value: new Vector3() },\n\t\t'up': { value: new Vector3( 0, 1, 0 ) }\n\t},\n\n\tvertexShader: /* glsl */`\n\t\tuniform vec3 sunPosition;\n\t\tuniform float rayleigh;\n\t\tuniform float turbidity;\n\t\tuniform float mieCoefficient;\n\t\tuniform vec3 up;\n\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float e = 2.71828182845904523536028747135266249775724709369995957;\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\t// wavelength of used primaries, according to preetham\n\t\tconst vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n\t\t// this pre-calculation replaces older TotalRayleigh(vec3 lambda) function:\n\t\t// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n\t\tconst vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n\t\t// mie stuff\n\t\t// K coefficient for the primaries\n\t\tconst float v = 4.0;\n\t\tconst vec3 K = vec3( 0.686, 0.678, 0.666 );\n\t\t// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n\t\tconst vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n\t\t// earth shadow hack\n\t\t// cutoffAngle = pi / 1.95;\n\t\tconst float cutoffAngle = 1.6110731556870734;\n\t\tconst float steepness = 1.5;\n\t\tconst float EE = 1000.0;\n\n\t\tfloat sunIntensity( float zenithAngleCos ) {\n\t\t\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n\t\t\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n\t\t}\n\n\t\tvec3 totalMie( float T ) {\n\t\t\tfloat c = ( 0.2 * T ) * 10E-18;\n\t\t\treturn 0.434 * c * MieConst;\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvWorldPosition = worldPosition.xyz;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n\t\t\tvSunDirection = normalize( sunPosition );\n\n\t\t\tvSunE = sunIntensity( dot( vSunDirection, up ) );\n\n\t\t\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n\t\t\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n\t\t\t// extinction (absorption + out scattering)\n\t\t\t// rayleigh coefficients\n\t\t\tvBetaR = totalRayleigh * rayleighCoefficient;\n\n\t\t\t// mie coefficients\n\t\t\tvBetaM = totalMie( turbidity ) * mieCoefficient;\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\tuniform float mieDirectionalG;\n\t\tuniform vec3 up;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\tconst float n = 1.0003; // refractive index of air\n\t\tconst float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n\t\t// optical length at zenith for molecules\n\t\tconst float rayleighZenithLength = 8.4E3;\n\t\tconst float mieZenithLength = 1.25E3;\n\t\t// 66 arc seconds -> degrees, and the cosine of that\n\t\tconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n\t\t// 3.0 / ( 16.0 * pi )\n\t\tconst float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n\t\t// 1.0 / ( 4.0 * pi )\n\t\tconst float ONE_OVER_FOURPI = 0.07957747154594767;\n\n\t\tfloat rayleighPhase( float cosTheta ) {\n\t\t\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n\t\t}\n\n\t\tfloat hgPhase( float cosTheta, float g ) {\n\t\t\tfloat g2 = pow( g, 2.0 );\n\t\t\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n\t\t\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec3 direction = normalize( vWorldPosition - cameraPosition );\n\n\t\t\t// optical length\n\t\t\t// cutoff angle at 90 to avoid singularity in next formula.\n\t\t\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n\t\t\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n\t\t\tfloat sR = rayleighZenithLength * inverse;\n\t\t\tfloat sM = mieZenithLength * inverse;\n\n\t\t\t// combined extinction factor\n\t\t\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n\t\t\t// in scattering\n\t\t\tfloat cosTheta = dot( direction, vSunDirection );\n\n\t\t\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n\t\t\tvec3 betaRTheta = vBetaR * rPhase;\n\n\t\t\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );\n\t\t\tvec3 betaMTheta = vBetaM * mPhase;\n\n\t\t\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n\t\t\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n\t\t\t// nightsky\n\t\t\tfloat theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]\n\t\t\tfloat phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]\n\t\t\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n\t\t\tvec3 L0 = vec3( 0.1 ) * Fex;\n\n\t\t\t// composition + solar disc\n\t\t\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n\t\t\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n\t\t\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n\t\t\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n\t\t\tgl_FragColor = vec4( retColor, 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\n\t\t}`\n\n};\n\nexport { Sky };\n","import GUI from 'lil-gui'\nimport * as THREE from 'three'\nimport { Timer } from 'three/addons/misc/Timer.js'\nimport { Sky } from 'three/addons/objects/Sky.js'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\n\nexport default function hauntedHouse(canvas) {\n  /**\n   * Texture\n   */\n\n  const textureLoader = new THREE.TextureLoader()\n\n  // Floor\n  const floorAlphaTexture = textureLoader.load('./floor/alpha.webp')\n  const floorColorTexture = textureLoader.load(\n    './floor/coast_sand_rocks_02_1k/coast_sand_rocks_02_diff_1k.webp',\n  )\n  const floorARMTexture = textureLoader.load(\n    './floor/coast_sand_rocks_02_1k/coast_sand_rocks_02_arm_1k.webp',\n  )\n  const floorNormalTexture = textureLoader.load(\n    './floor/coast_sand_rocks_02_1k/coast_sand_rocks_02_nor_gl_1k.webp',\n  )\n  const floorDisplacementTexture = textureLoader.load(\n    './floor/coast_sand_rocks_02_1k/coast_sand_rocks_02_disp_1k.webp',\n  )\n\n  // Only for color texture\n  floorColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  floorColorTexture.repeat.set(8, 8)\n  floorARMTexture.repeat.set(8, 8)\n  floorNormalTexture.repeat.set(8, 8)\n  floorDisplacementTexture.repeat.set(8, 8)\n\n  floorColorTexture.wrapS = THREE.RepeatWrapping\n  floorARMTexture.wrapS = THREE.RepeatWrapping\n  floorNormalTexture.wrapS = THREE.RepeatWrapping\n  floorDisplacementTexture.wrapS = THREE.RepeatWrapping\n\n  floorColorTexture.wrapT = THREE.RepeatWrapping\n  floorARMTexture.wrapT = THREE.RepeatWrapping\n  floorNormalTexture.wrapT = THREE.RepeatWrapping\n  floorDisplacementTexture.wrapT = THREE.RepeatWrapping\n\n  // Wall Texture\n\n  const wallColorTexture = textureLoader.load(\n    './wall/castle_brick_broken_06_1k/castle_brick_broken_06_diff_1k.webp',\n  )\n  const wallARMTexture = textureLoader.load(\n    './wall/castle_brick_broken_06_1k/castle_brick_broken_06_arm_1k.webp',\n  )\n  const wallNormalTexture = textureLoader.load(\n    './wall/castle_brick_broken_06_1k/castle_brick_broken_06_nor_gl_1k.webp',\n  )\n\n  wallColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  // Roof texture\n\n  const roofColorTexture = textureLoader.load(\n    './roof/roof_slates_02_1k/roof_slates_02_diff_1k.webp',\n  )\n  const roofARMTexture = textureLoader.load(\n    './roof/roof_slates_02_1k/roof_slates_02_arm_1k.webp',\n  )\n  const roofNormalTexture = textureLoader.load(\n    './roof/roof_slates_02_1k/roof_slates_02_nor_gl_1k.webp',\n  )\n\n  roofColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  roofColorTexture.repeat.set(3, 1)\n  roofARMTexture.repeat.set(3, 1)\n  roofNormalTexture.repeat.set(3, 1)\n\n  roofColorTexture.wrapS = THREE.RepeatWrapping\n  roofARMTexture.wrapS = THREE.RepeatWrapping\n  roofNormalTexture.wrapS = THREE.RepeatWrapping\n\n  // Bush texture\n\n  const bushColorTexture = textureLoader.load(\n    './bush/leaves_forest_ground_1k/leaves_forest_ground_diff_1k.webp',\n  )\n  const bushARMTexture = textureLoader.load(\n    './bush/leaves_forest_ground_1k/leaves_forest_ground_arm_1k.webp',\n  )\n  const bushNormalTexture = textureLoader.load(\n    './bush/leaves_forest_ground_1k/leaves_forest_ground_nor_gl_1k.webp',\n  )\n\n  bushColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  bushColorTexture.repeat.set(3, 1)\n  bushARMTexture.repeat.set(3, 1)\n  bushNormalTexture.repeat.set(3, 1)\n\n  bushColorTexture.wrapS = THREE.RepeatWrapping\n  bushARMTexture.wrapS = THREE.RepeatWrapping\n  bushNormalTexture.wrapS = THREE.RepeatWrapping\n\n  // Grave texture\n\n  const graveColorTexture = textureLoader.load(\n    './grave/plastered_stone_wall_1k/plastered_stone_wall_diff_1k.webp',\n  )\n  const graveARMTexture = textureLoader.load(\n    './grave/plastered_stone_wall_1k/plastered_stone_wall_arm_1k.webp',\n  )\n  const graveNormalTexture = textureLoader.load(\n    './grave/plastered_stone_wall_1k/plastered_stone_wall_nor_gl_1k.webp',\n  )\n\n  graveColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  graveColorTexture.repeat.set(0.3, 0.4)\n  graveARMTexture.repeat.set(0.3, 0.4)\n  graveNormalTexture.repeat.set(0.3, 0.4)\n\n  graveColorTexture.wrapS = THREE.RepeatWrapping\n  graveARMTexture.wrapS = THREE.RepeatWrapping\n  graveNormalTexture.wrapS = THREE.RepeatWrapping\n\n  // Door\n  const doorColorTexture = textureLoader.load('./door/color.webp')\n  const doorAlphaTexture = textureLoader.load('./door/alpha.webp')\n  const doorAmbientOcclusionTexture = textureLoader.load(\n    './door/ambientOcclusion.webp',\n  )\n  const doorHeightTexture = textureLoader.load('./door/height.webp')\n  const doorNormalTexture = textureLoader.load('./door/normal.webp')\n  const doorMetalnessTexture = textureLoader.load('./door/metalness.webp')\n  const doorRoughnessTexture = textureLoader.load('./door/roughness.webp')\n\n  doorColorTexture.colorSpace = THREE.SRGBColorSpace\n\n  /**\n   * Base\n   */\n  // Debug\n  const gui = new GUI()\n\n  // Scene\n  const scene = new THREE.Scene()\n\n  /**\n   * House\n   */\n\n  const house = new THREE.Group()\n  scene.add(house)\n  // -------------\n  const walls = new THREE.Mesh(\n    new THREE.BoxGeometry(4, 2.5, 4),\n    new THREE.MeshStandardMaterial({\n      map: wallColorTexture,\n      aoMap: wallARMTexture,\n      roughnessMap: wallARMTexture,\n      metalnessMap: wallARMTexture,\n      normalMap: wallNormalTexture,\n    }),\n  )\n  walls.position.y += walls.geometry.parameters.height / 2\n  house.add(walls)\n  // -------------\n  const roof = new THREE.Mesh(\n    new THREE.ConeGeometry(3.5, 1.5, 4),\n    new THREE.MeshStandardMaterial({\n      map: roofColorTexture,\n      aoMap: roofARMTexture,\n      roughnessMap: roofARMTexture,\n      metalnessMap: roofARMTexture,\n      normalMap: roofNormalTexture,\n    }),\n  )\n  roof.position.y += 2.5 + 0.75\n  roof.rotation.y = Math.PI * 0.25\n  house.add(roof)\n  // -------------\n  const door = new THREE.Mesh(\n    new THREE.PlaneGeometry(2.2, 2.2, 100, 100),\n    new THREE.MeshStandardMaterial({\n      map: doorColorTexture,\n      transparent: true,\n      alphaMap: doorAlphaTexture,\n      aoMap: doorAmbientOcclusionTexture,\n      displacementMap: doorHeightTexture,\n      displacementScale: 0.15,\n      displacementBias: -0.04,\n      normalMap: doorNormalTexture,\n      metalnessMap: doorMetalnessTexture,\n      roughnessMap: doorRoughnessTexture,\n    }),\n  )\n  door.position.z = 2 + 0.01\n  door.position.y = 1\n  house.add(door)\n\n  // ------------\n\n  const bushGeometry = new THREE.SphereGeometry(1, 16, 16)\n  const bushMaterial = new THREE.MeshStandardMaterial({\n    color: '#ccffcc',\n    map: bushColorTexture,\n    aoMap: bushARMTexture,\n    roughnessMap: bushARMTexture,\n    metalnessMap: bushARMTexture,\n    normalMap: bushNormalTexture,\n  })\n\n  const bush1 = new THREE.Mesh(bushGeometry, bushMaterial)\n  bush1.scale.set(0.5, 0.5, 0.5)\n  bush1.position.set(0.8, 0.2, 2.2)\n  bush1.rotation.x = -0.75\n\n  const bush2 = new THREE.Mesh(bushGeometry, bushMaterial)\n  bush2.scale.set(0.25, 0.25, 0.25)\n  bush2.position.set(1.4, 0.1, 2.1)\n  bush2.rotation.x = -0.75\n\n  const bush3 = new THREE.Mesh(bushGeometry, bushMaterial)\n  bush3.scale.set(0.4, 0.4, 0.4)\n  bush3.position.set(-0.8, 0.1, 2.2)\n  bush3.rotation.x = -0.75\n\n  const bush4 = new THREE.Mesh(bushGeometry, bushMaterial)\n  bush4.scale.set(0.15, 0.15, 0.15)\n  bush4.position.set(-1, 0.05, 2.6)\n  bush4.rotation.x = -0.75\n\n  house.add(bush1, bush2, bush3, bush4)\n\n  //-----------\n  const graveGeometry = new THREE.BoxGeometry(0.6, 0.8, 0.2)\n  const graveMaterial = new THREE.MeshStandardMaterial({\n    map: graveColorTexture,\n    aoMap: graveARMTexture,\n    roughnessMap: graveARMTexture,\n    metalnessMap: graveARMTexture,\n    normalMap: graveNormalTexture,\n  })\n\n  const graves = new THREE.Group()\n  scene.add(graves)\n\n  for (let i = 0; i < 30; i++) {\n    const angle = Math.random() * Math.PI * 2\n    const radius = 3 + Math.random() * 4\n    const grave = new THREE.Mesh(graveGeometry, graveMaterial)\n    const x = Math.sin(angle) * radius\n    const z = Math.cos(angle) * radius\n    grave.position.x = x\n    grave.position.z = z\n    grave.position.y = Math.random() * 0.4\n    grave.rotation.x = (Math.random() - 0.5) * 0.4\n    grave.rotation.y = (Math.random() - 0.5) * 0.4\n    grave.rotation.z = (Math.random() - 0.5) * 0.4\n\n    graves.add(grave)\n  }\n\n  /**\n   * Floor\n   */\n\n  const floor = new THREE.Mesh(\n    new THREE.PlaneGeometry(20, 20, 100, 100),\n    new THREE.MeshStandardMaterial({\n      alphaMap: floorAlphaTexture,\n      transparent: true,\n      map: floorColorTexture,\n      aoMap: floorARMTexture,\n      roughnessMap: floorARMTexture,\n      metalnessMap: floorARMTexture,\n      normalMap: floorNormalTexture,\n      displacementMap: floorDisplacementTexture,\n      displacementScale: 0.3,\n      displacementBias: -0.2,\n    }),\n  )\n  floor.rotation.x = -Math.PI * 0.5\n  scene.add(floor)\n\n  gui\n    .add(floor.material, 'displacementScale')\n    .min(0)\n    .max(1)\n    .step(0.001)\n    .name('floorDisplacementScale')\n\n  gui\n    .add(floor.material, 'displacementBias')\n    .min(-1)\n    .max(1)\n    .step(0.001)\n    .name('floorDisplacementBias')\n\n  /**\n   * Lights\n   */\n  // Ambient light\n  const ambientLight = new THREE.AmbientLight('#86cdff', 0.275)\n  scene.add(ambientLight)\n\n  // Directional light\n  const directionalLight = new THREE.DirectionalLight('#86cdff', 1)\n  directionalLight.position.set(3, 2, -8)\n  scene.add(directionalLight)\n\n  // Door Light\n  const doorLight = new THREE.PointLight('#ff7d46', 5)\n  doorLight.position.set(0, 2.2, 2.5)\n  house.add(doorLight)\n\n  /**\n   * Ghosts\n   */\n\n  const ghost1 = new THREE.PointLight('#8800ff', 6)\n  const ghost2 = new THREE.PointLight('#ff0088', 6)\n  const ghost3 = new THREE.PointLight('#ff0000', 6)\n  scene.add(ghost1, ghost2, ghost3)\n\n  /**\n   * Sizes\n   */\n  const sizes = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n  }\n\n  const onResize = () => {\n    // Update sizes\n    sizes.width = window.innerWidth\n    sizes.height = window.innerHeight\n\n    // Update camera\n    camera.aspect = sizes.width / sizes.height\n    camera.updateProjectionMatrix()\n\n    // Update renderer\n    renderer.setSize(sizes.width, sizes.height)\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n  }\n\n  window.addEventListener('resize', onResize)\n\n  /**\n   * Camera\n   */\n  // Base camera\n  const camera = new THREE.PerspectiveCamera(\n    75,\n    sizes.width / sizes.height,\n    0.1,\n    100,\n  )\n  camera.position.x = 4\n  camera.position.y = 2\n  camera.position.z = 5\n  scene.add(camera)\n\n  // Controls\n  const controls = new OrbitControls(camera, canvas)\n  controls.maxPolarAngle = Math.PI / 2.1\n  controls.enableDamping = true\n\n  /**\n   * Renderer\n   */\n  const renderer = new THREE.WebGLRenderer({\n    canvas: canvas,\n  })\n  renderer.setSize(sizes.width, sizes.height)\n  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n\n  /**\n   * Shadows\n   */\n\n  // Renderer\n  renderer.shadowMap.enabled = true\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n  // Cast and Receive\n  directionalLight.castShadow = true\n  ghost1.castShadow = true\n  ghost2.castShadow = true\n  ghost3.castShadow = true\n\n  // Object\n  walls.castShadow = true\n  walls.receiveShadow = true\n  roof.castShadow = true\n  floor.receiveShadow = true\n\n  for (const grave of graves.children) {\n    grave.castShadow = true\n    grave.receiveShadow = true\n  }\n\n  // Mapping\n  directionalLight.shadow.mapSize.width = 256\n  directionalLight.shadow.mapSize.height = 256\n  directionalLight.shadow.camera.top = 8\n  directionalLight.shadow.camera.right = 8\n  directionalLight.shadow.camera.bottom = -8\n  directionalLight.shadow.camera.left = -8\n  directionalLight.shadow.camera.near = 1\n  directionalLight.shadow.camera.far = 20\n\n  ghost1.shadow.mapSize.width = 256\n  ghost1.shadow.mapSize.height = 256\n  ghost1.shadow.camera.far = 10\n\n  ghost2.shadow.mapSize.width = 256\n  ghost2.shadow.mapSize.height = 256\n  ghost2.shadow.camera.far = 10\n\n  ghost3.shadow.mapSize.width = 256\n  ghost3.shadow.mapSize.height = 256\n  ghost3.shadow.camera.far = 10\n\n  /**\n   * Sky\n   */\n\n  const sky = new Sky()\n  sky.scale.set(100, 100, 100)\n  sky.material.uniforms['turbidity'].value = 10\n  sky.material.uniforms['rayleigh'].value = 3\n  sky.material.uniforms['mieCoefficient'].value = 0.1\n  sky.material.uniforms['mieDirectionalG'].value = 0.95\n  sky.material.uniforms['sunPosition'].value.set(0.3, -0.038, -0.95)\n  scene.add(sky)\n\n  /**\n   * Fog\n   */\n\n  // scene.fog = new THREE.Fog('#ff0000', 1, 13)\n  scene.fog = new THREE.FogExp2('#02343f', 0.1)\n\n  /**\n   * Animate\n   */\n  const timer = new Timer()\n  let animationFrameId = null\n\n  const tick = () => {\n    // Timer\n    timer.update()\n    const elapsedTime = timer.getElapsed()\n\n    // ghost\n    const ghost1Angle = elapsedTime * 0.5\n    ghost1.position.x = Math.cos(ghost1Angle) * 4\n    ghost1.position.z = Math.sin(ghost1Angle) * 4\n    ghost1.position.y =\n      Math.sin(ghost1Angle) *\n      Math.sin(ghost1Angle * 2.34) *\n      Math.sin(ghost1Angle * 3.45)\n\n    const ghost2Angle = -elapsedTime * 0.38\n    ghost2.position.x = Math.cos(ghost2Angle) * 5\n    ghost2.position.z = Math.sin(ghost2Angle) * 5\n    ghost2.position.y =\n      Math.sin(ghost2Angle) *\n      Math.sin(ghost2Angle * 2.34) *\n      Math.sin(ghost2Angle * 3.45)\n\n    const ghost3Angle = elapsedTime * 0.23\n    ghost3.position.x = Math.cos(ghost3Angle) * 6\n    ghost3.position.z = Math.sin(ghost3Angle) * 6\n    ghost3.position.y =\n      Math.sin(ghost3Angle) *\n      Math.sin(ghost3Angle * 2.34) *\n      Math.sin(ghost3Angle * 3.45)\n\n    // Update controls\n    controls.update()\n\n    // Render\n    renderer.render(scene, camera)\n\n    // Call tick again on the next frame\n    animationFrameId = window.requestAnimationFrame(tick)\n  }\n\n  tick()\n\n  /**\n   * Cleanup\n   */\n  return function dispose() {\n    // stop animation\n    if (animationFrameId) {\n      window.cancelAnimationFrame(animationFrameId)\n    }\n\n    // remove resize event listener\n    window.removeEventListener('resize', onResize)\n\n    // destroy GUI\n    gui.destroy()\n\n    // dispose renderer\n    renderer.dispose()\n\n    // dispose geometries and materials of the scene\n    scene.traverse((child) => {\n      if (child.isMesh) {\n        child.geometry.dispose()\n        if (child.material.isMaterial) {\n          for (const key of Object.keys(child.material)) {\n            const value = child.material[key]\n            if (value && typeof value.dispose === 'function') {\n              value.dispose()\n            }\n          }\n          child.material.dispose()\n        }\n      }\n    })\n  }\n}\n"],"names":["Controller","parent","object","property","className","elementType","e","name","callback","enabled","disabled","show","options","controller","min","max","step","decimals","listen","curValue","value","BooleanController","normalizeColorString","string","match","result","STRING","v","INT","ARRAY","target","rgbScale","int","r","g","b","OBJECT","FORMATS","getColorFormat","format","ColorController","tryParse","newValue","FunctionController","NumberController","stepExplicit","explicit","percent","onInput","increment","delta","onKeyDown","onWheel","testingForVerticalDrag","initClientX","initClientY","prevClientY","initValue","dragDelta","DRAG_THRESH","onMouseDown","onMouseMove","onMouseUp","dx","dy","onFocus","onBlur","map","a","c","d","setValueFromX","clientX","rect","mouseDown","mouseMove","mouseUp","testingForScroll","prevClientX","beginTouchDrag","onTouchStart","onTouchMove","onTouchEnd","callOnFinishChange","WHEEL_DEBOUNCE_TIME","wheelFinishChangeTimeout","active","axis","deltaX","deltaY","mult","offset","root","OptionController","$option","index","StringController","stylesheet","_injectStyles","cssContent","injected","before","stylesInjected","GUI","autoPlace","container","width","title","closeFolders","injectStyles","touchStyles","$1","initialValue","folder","obj","recursive","f","open","closed","initialHeight","onTransitionEnd","targetHeight","changedGUI","controllers","folders","Sky","Mesh","shader","material","ShaderMaterial","UniformsUtils","BackSide","BoxGeometry","Vector3","hauntedHouse","canvas","textureLoader","THREE.TextureLoader","floorAlphaTexture","floorColorTexture","floorARMTexture","floorNormalTexture","floorDisplacementTexture","THREE.SRGBColorSpace","THREE.RepeatWrapping","wallColorTexture","wallARMTexture","wallNormalTexture","roofColorTexture","roofARMTexture","roofNormalTexture","bushColorTexture","bushARMTexture","bushNormalTexture","graveColorTexture","graveARMTexture","graveNormalTexture","doorColorTexture","doorAlphaTexture","doorAmbientOcclusionTexture","doorHeightTexture","doorNormalTexture","doorMetalnessTexture","doorRoughnessTexture","gui","scene","THREE.Scene","house","THREE.Group","walls","THREE.Mesh","THREE.BoxGeometry","THREE.MeshStandardMaterial","roof","THREE.ConeGeometry","door","THREE.PlaneGeometry","bushGeometry","THREE.SphereGeometry","bushMaterial","bush1","bush2","bush3","bush4","graveGeometry","graveMaterial","graves","i","angle","radius","grave","x","z","floor","ambientLight","THREE.AmbientLight","directionalLight","THREE.DirectionalLight","doorLight","THREE.PointLight","ghost1","ghost2","ghost3","sizes","onResize","camera","renderer","THREE.PerspectiveCamera","controls","OrbitControls","THREE.WebGLRenderer","THREE.PCFSoftShadowMap","sky","THREE.FogExp2","timer","Timer","animationFrameId","tick","elapsedTime","ghost1Angle","ghost2Angle","ghost3Angle","child","key"],"mappings":"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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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","x_google_ignoreList":[0,1]}