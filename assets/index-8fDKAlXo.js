const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/haunted-house-BAvSj2GZ.js","assets/lil-gui.esm-hsJpI9MV.js","assets/three.module-xwh0Cw1C.js","assets/OrbitControls-DvPvu61S.js","assets/particles-Dm5f62MW.js","assets/galaxy-generator-CKPV4cqn.js","assets/scroll-animation-CTmh8HMh.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function i(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(n){if(n.ep)return;n.ep=!0;const e=i(n);fetch(n.href,e)}})();const x="modulepreload",R=function(l){return"/threeJS/"+l},_={},f=function(t,i,s){let n=Promise.resolve();if(i&&i.length>0){let r=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=r(i.map(c=>{if(c=R(c),c in _)return;_[c]=!0;const u=c.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":x,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((j,S)=>{d.addEventListener("load",j),d.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function e(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return n.then(r=>{for(const o of r||[])o.status==="rejected"&&e(o.reason);return t().catch(e)})},v={"haunted-house":{name:"Haunted House",description:"Une maison hantée avec fantômes, ombres et brouillard",image:"./screen/haunted_house.png",video:"./screen/video/haunted_house.mp4",load:()=>f(()=>import("./haunted-house-BAvSj2GZ.js"),__vite__mapDeps([0,1,2,3]))},particles:{name:"Particles",description:"Expérimentations avec des systèmes de particules",image:"./screen/particles.png",video:"./screen/video/particles.mp4",load:()=>f(()=>import("./particles-Dm5f62MW.js"),__vite__mapDeps([4,2,3]))},"galaxy-generator":{name:"Galaxy Generator",description:"Un générateur de galaxies avec des particules",image:"./screen/galaxy.png",video:"./screen/video/galaxy.mp4",load:()=>f(()=>import("./galaxy-generator-CKPV4cqn.js"),__vite__mapDeps([5,1,2,3]))},"scroll-animation":{name:"Scroll Animation",description:"Animation synchronisée au scroll en webgl",image:"./screen/scroll_animation.png",video:"./screen/video/scroll_animation.mp4",load:()=>f(()=>import("./scroll-animation-CTmh8HMh.js"),__vite__mapDeps([6,1,2]))}},E=document.getElementById("menu"),y=document.querySelector("canvas.webgl"),g=document.getElementById("back-button"),p=document.getElementById("project-list");let h=null;const O=()=>{p.innerHTML="";for(const[l,t]of Object.entries(v).reverse()){const i=document.createElement("a");if(i.href=`?project=${l}`,i.className="project-card",i.addEventListener("click",s=>{s.preventDefault(),b(l)}),i.innerHTML=`
      <div class="project-card-media">
        ${t.image?`<img src="${t.image}" alt="${t.name}" />`:""}
        ${t.video?`<video src="${t.video}" muted loop playsinline preload="none"></video>`:""}
      </div>
      <div class="project-card-content">
        <h2>${t.name}</h2>
        <p>${t.description}</p>
      </div>
    `,t.video){const s=i.querySelector("video");s&&(i.addEventListener("mouseenter",()=>{s.currentTime=0,s.play().catch(()=>{})}),i.addEventListener("mouseleave",()=>{s.pause()}))}p.appendChild(i)}$()};function $(){if(!window.matchMedia("(max-width: 768px)").matches)return;const t=p.querySelectorAll(".project-card"),i=new Map,s=()=>{let e=null,r=0;for(const[o,a]of i)a>r&&(r=a,e=o);t.forEach(o=>{const a=o.querySelector("video"),c=o===e&&r>.3;o.classList.toggle("is-visible",c),a&&(c?(a.currentTime=0,a.play().catch(()=>{})):a.pause())})},n=new IntersectionObserver(e=>{for(const r of e)i.set(r.target,r.intersectionRatio);s()},{root:p,threshold:[0,.25,.5,.75,1],rootMargin:"0px"});t.forEach(e=>n.observe(e)),requestAnimationFrame(()=>{t.forEach(e=>{const r=p.getBoundingClientRect(),o=e.getBoundingClientRect(),a=Math.max(0,Math.min(o.right,r.right)-Math.max(o.left,r.left));i.set(e,a/o.width)}),s()})}const L=()=>{h&&(h(),h=null)};async function b(l){L(),window.history.pushState({},"",`?project=${l}`),E.style.display="none",y.style.display="block",g.style.display="flex",h=(await v[l].load()).default(y)}function P(){L(),window.history.pushState({},"",window.location.pathname),E.style.display="flex",y.style.display="none",g.style.display="none"}g.addEventListener("click",P);window.addEventListener("popstate",()=>{const t=new URLSearchParams(window.location.search).get("project");t&&v[t]?b(t):P()});O();const A=new URLSearchParams(window.location.search),w=A.get("project");w&&v[w]?b(w):(E.style.display="flex",y.style.display="none",g.style.display="none");
//# sourceMappingURL=index-8fDKAlXo.js.map
